@model List<SiddharthJasapara_550.Model.Model.ProductsModel>

@{
    ViewBag.Title = "Products";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Content/toastr.css" rel="stylesheet" />
<script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
<script src="~/Scripts/toastr.js"></script>

<h2>Products</h2>

<p>
    @Html.ActionLink("Create New", "AddProduct")
</p>

<div class="table-responsive">
    <table class="table">
        <tr>
            <th>
                Product Name
            </th>
            <th>
                Description
            </th>
            <th>
                Type
            </th>
            <th>
                Quantity
            </th>
            <th>
                Price
            </th>
            <th>
                Actions
            </th>
        </tr>

        <tbody>
            @if (Model.Count > 0)
            {
                foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.type)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.quantity)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.price)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "EditProduct", new { id = item.id }) |
                            @Html.ActionLink("Delete", "DeleteProduct", new { id = item.id })
                        </td>
                    </tr>
                }
            }
        </tbody>

    </table>
</div>

@if (TempData["added"] != null)
{
    <script>
        toastr.success("@TempData["added"]")
    </script>
}

@if (TempData["noProduct"] != null)
{
    <script>
        toastr.error("@TempData["noProduct"]")
    </script>
}

@if (TempData["edited"] != null)
{
    <script>
        toastr.success("@TempData["edited"]")
    </script>
}